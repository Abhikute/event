{% extends 'master.html' %}

{% load static %}
{% block content %}

<div id="pageloader">
   <img src="http://cdnjs.cloudflare.com/ajax/libs/semantic-ui/0.16.1/images/loader-large.gif" alt="processing..." />
   <span style="width:72%"></span>
</div>

    
    <section id="innerpage">
        <div class="container wow fadeInUp">

        </div>
    </section>
    <main  id="main" class="bg-white">
        <div class="form-conainer">
            <div class="row">
                <div class="col-lg-4 col-md-4 bg-white col-sm-12 hidden-xs">

                    <div class="row">
                        <div class="col-lg-12 col-md-12 side-img-content">

                            <h2>Upload Files </h2>
                            <p></p>

                        </div>
                        <div class="col-lg-12 col-md-12">
                         <div class=" subheading">Important Instructions</div>

                       
                                
                            </div>

                            <div class="col-lg-12 col-md-12">
                                <div class="instruct">
                                    <div class="text-uppercase text-bold mb-2"><i class="fa fa-image"></i> File Uploading Instructions</div>
                                   
                                    <ul>

                                        <li>
                                           File Size upto:- {{event.file_size_instruction}}.
                                        </li>
                                        <li>
                                           Categories:- {{event.file_categories_instruction}}.
                                        </li>
                                        <li>
                                           Language:- ALL.
                                        </li>
                                        <li>
                                            Age:- {{event.participant_Age_instruction}}
                                        </li>
                                        <li>
                                            Registration Fees:-{{event.Registration_fees_instruction}}.
                                        </li>
                                       
                                       
                                        <li>
                                            Entries Deadline:- {{event.entry_deadline_instruction}}.
                                        </li>
                                        <li>
                                             Notification Date:- {{event.notification_date_instruction}}.
                                        </li>
                                        <li>
                                            Prize Distribution Ceremony:- {{event.prize_dist_instruction}}
                                        </li>
                                        <li>
                                            Other Instructions:- {{event.other_instruction}}
                                        </li>
                                    </ul>
                                </div>
                               
                               <div class="instruct">
                                    <div class="text-uppercase text-bold mb-2"><i class="fa fa-gift"></i> Prize Distribution</div>
                                   
                                    <ul>

                                        <li>
                                           File Size upto:- {{event.file_size_instruction}}.
                                        </li>
                                        <li>
                                           Categories:- {{event.file_categories_instruction}}.
                                        </li>
                                        <li>
                                           Language:- ALL.
                                        </li>
                                        <li>
                                            Age:- {{event.participant_Age_instruction}}
                                        </li>
                                        <li>
                                            Registration Fees:-{{event.Registration_fees_instruction}}.
                                        </li>
                                       
                                       
                                        <li>
                                            Entries Deadline:- {{event.entry_deadline_instruction}}.
                                        </li>
                                        <li>
                                             Notification Date:- {{event.notification_date_instruction}}.
                                        </li>
                                        <li>
                                            Prize Distribution Ceremony:- {{event.prize_dist_instruction}}
                                        </li>

                                    </ul>
                                </div>


                            </div>
                        </div>
                </div>
                <aside class="col-sm-12 col-lg-8 col-md-8 pl0  content-form">


                <form method="POST" enctype="multipart/form-data"  action="">
                  {% csrf_token %} 
                    <div class="border-box p30">
                        <div class="row">
                            
                            <div class="col-lg-12 col-md-12 ">
                                <div class="white-bg">
                                  <table class="table">
                                    <caption>Upload Files</caption>
                                    
                                    <tr>
                                      <th>Event Name</th>
                                     <th>Event Category </th>
                                    </tr>
                                    <tr>
                                      <td>{{event.event_name}}</td>
                                      <td id="event_category" name="event_category" >{{event.event_category}}</td>
                                    </tr>
                                   
                                  </table>
                                  <input type="hidden" id="event_id" name="event_id" value="{{event_id.pk}}">
                                    <input type="hidden" id="event_pk" name="event_pk" value="{{event_id.event.pk}}">
                                      <div class="col-lg-8 form-group  col-md-8">


                                                  
                                                     

                                                  
                                                        <div class="row" id="photo">
                                                            <div class="form-group col-lg-12 col-md-12 col-sm-12">
                                                                <div class=" bg-white border-box2 ">



                                                                    <div class="row">
                                                                        <div class="col-lg-3 col-md-3 col-sm-3 text-center">
                                                                            <img src="https://www.freeiconspng.com/uploads/no-image-icon-13.png" class="m-x-auto img-fluid" alt="avatar" />
                                                                        </div>

                                                                        <div class="col-lg-8 col-md-8   col-sm-9 pull-left text-center">

                                                                            <div class="pull-left pt10">     Upload a different Photos </div>


                                                                            <div class="file-field medium">
                                                                                <div class="btn btn-outline-default waves-effect  ml5">
                                                                                    <span><i class="fa fa-plus"></i></span>
                                                                                    <input type="file" id="uploadFile" name="FileUpload" multiple="multiple" accept="image/*" />

                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                        <div class="col-lg-12 col-md-12">
                                                                            <div id="file_count" class="text-center font-10 text-bold"></div>
                                                                            <div id="amount" class="text-center font-10 text-bold"></div>
                                                                           
                                                                            <div id="upload_prev"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                 
                                                    
                                                        <div class="row" id="videofile">
                                                            <div class="form-group  col-lg-12 col-md-12 col-sm-12">
                                                                <div class=" bg-white border-box2 ">
                                                                    <div class="row">
                                                                        <div class="col-lg-3  col-md-3 col-sm-3 text-center">
                                                                            <img src="https://cdn3.iconfinder.com/data/icons/social-messaging-ui-color-line/254000/05-512.png" class="m-x-auto img-fluid" alt="avatar" />
                                                                        </div>

                                                                        <div class="col-lg-8  col-md-8 col-sm-8 pull-left text-center">

                                                                            <div class="pull-left pt10">     Upload a different Videos </div>


                                                                            <div class="file-field medium">
                                                                                <div class="btn btn-outline-default waves-effect  ml5">
                                                                                    <span><i  class="fa fa-plus"></i></span>
                                                                                    <input type="file" id="uploadFilea"  name="FileUploada" multiple="multiple" value="Click" accept="video/*"  />

                                                                                </div>
                                                                            </div>

                                                                        </div>
                                                                        <div class="col-lg-12 col-md-12">

                                                                            <div id="file_counta" class="text-center font-16 text-bold"></div>
                                                                            <div id="amounta" class="text-center font-16 text-bold"></div>


                                                                              <div id="upload_preva"></div>
                                                                               <input type="hidden" id="data" name="data">
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                              
                                                   
                                                   <div class="col-lg-12 text-center">
                                                        
                                                        <input type="submit" class="btn btn-primary" value="CheckOut" />
                                                       

                                                    </div>
                                    
                                    </div>
                                </div>
                            </div>
                   
                        </div>
                 
                 </form>
            <!--       <button onclick="myFunction()">Click me</button> -->
                </aside>


            </div>

        </div>


    </main>
     <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

 <script>

        var fileCount = 0;
        var image_count="{{image_count}}";


        var points = [[1,2,3,4,5],[6,7,8],[9,10,11],[12,13,14],[15,16,17],[18,19,20],[21,22,23],[24,25,26],[27,28,29],[30,31,32],[33,34,35],[36,37,38],[39,40,41],[42,43,44],[45,46,47],[48,49,50]];

              

        var showFileCount = function () {
            $('#file_count').text('Files selected: ' + fileCount);
             
            if (fileCount>0){
                   
               for (i=0;i<points.length;i++)
               {
                   

                  if ( points[i].includes(fileCount+parseInt(image_count, 10)))
                               {        
                                        
                                         if (image_count >0){
                                             $('#amount').text('Registration Fees:' + (0+500*points.indexOf(points[i])) +' /-');
                                                var d = 0+500*points.indexOf(points[i]);
                                                document.getElementById("data").value = d;
              
            
                                                   }

                                           else {
                                            $('#amount').text('Registration Fees:' + (1000+500*points.indexOf(points[i])) +' /-');
                                         var d = 1000+500*points.indexOf(points[i]);
                                          document.getElementById("data").value = d;

                                                    }




                                 }

            }}
           

            else{
               $('#amount').text('Registration Fees:' + 0 +' /-');
           var d = 0;
            document.getElementById("data").value = d;

            }
           




            
       
        };
         showFileCount();
        $(document).on('click', '.dele', function () {
            $(this).parents('span').remove();
            
            fileCount -= 1;

            showFileCount();
        })

        $('#uploadFile').on('change', function () {
            

            var files = $('#uploadFile')[0].files;
            
            for (var i = 0; i < files.length; i++) {
                $("#upload_prev").append('<span>' + '<div class="filenameupload"> <tr><td>'+ files[i].name  +'</td>             <td>'+files[i].size*0.000001+'Mb</td></tr></table></div>' + '<span class="dele" ><i class="fa fa-times"></i></span></span>');
            }
           
            fileCount += files.length;
            
            showFileCount();

        });
    </script> 



  <script>
        var fileCounta = 0;
        var video_count="{{video_count}}";

        var showFileCounta = function () {
            $('#file_counta').text('Files selected: ' + fileCounta);
             
            if(fileCounta >0){
              if(video_count >0){
            $('#amounta').text('Registration Fees: ' + (500*(fileCounta/fileCounta)+500*(fileCounta-1)) +' /-');
             var d = 500+500*(fileCounta-1);
            document.getElementById("data").value = d;
          }
          else{
              $('#amounta').text('Registration Fees: ' + (1000*(fileCounta/fileCounta)+500*(fileCounta-1)) +' /-');
             var d = 1000+500*(fileCounta-1);
            document.getElementById("data").value = d;

          }
            }

            else{
               $('#amounta').text('Registration Fees: ' + 0 +' /-');
             var d = 0;
            document.getElementById("data").value = d;
            }
         
        };
        showFileCounta();
        $(document).on('click', '.remove', function () {
            $(this).parents('span').remove();
            var fileName = $(this).attr("data");
            fileCounta -= 1;
            showFileCounta();
            // var filessee= $("#uploadFilea").val();
            // $("#uploadFilea").each(function(){
            //    console.log(this);
            //    var filess = $(this.files);
            //   $(filess).each(function(index){
            //     if(fileName == filess[index].name){
                  
                 
            //   }
             
            // })           
           
            
        })

        $('#uploadFilea').on('change', function () {
            var filenamea = this.value;
            console.log(filenamea)
            var lastIndex = filenamea.lastIndexOf("\\");
            if (lastIndex >= 0) {
                filenamea = filenamea.substring(lastIndex + 1);
            }
            var files = $('#uploadFilea')[0].files;
            for (var j = 0; j < files.length; j++) {
                $("#upload_preva").append('<span>' + '<div class="filenameupload"> <tr><td>'+ files[j].name  +'</td>             <td>'+files[j].size*0.000001+'Mb</td></tr></table></div>' + '<span class="remove"data="'+ files[j].name  +'"><i class="fa fa-times"></i></span></span>');
            }
            fileCounta += files.length;
            showFileCounta();
        });




</script> 

  <script type="text/javascript">
        var ev_sub_category = {

            Dance: ['Bhratnatyam', 'Kathak', 'Manipuri', 'Kuchipuri', 'Odissi', 'Bhangra/Gidda', 'Garba', 'Rouf', 'Ghoomar', 'Chhau', 'Bihu', 'Lavani', 'Mohiniyattam', 'Sattriya Dance', 'Waltz', 'Tango', 'Cha-Cha-Cha', 'Rumba', 'Samba', 'Mambo', 'Quickstep', 'Jive', 'Bolero', 'Charleston', 'Other'],
            Poetry: ['Sonnet', 'Elegy', 'Haiku', 'Limerick', 'Epic', 'Acrostic', 'Ode', 'Ballad', 'Epigram', 'Concrete', 'Other'],
            Shayari: ['Love', 'Funny', 'Sad', 'Romantic', 'Dosti', 'Urdu', 'Aansu', 'Bewafa', 'Birthday', 'Dard', 'Dard-e-dil', 'Diwali', 'Dua', 'Gham', 'Intezaar', 'Ishq', 'Judai', 'Khawab', 'Mohobbat', 'Naseeb', 'Patriotic', 'Prem', 'Pyaar', 'Sharabi', 'Tanhai', 'Arman', 'Udasi', 'Attitude', 'Kash', 'Khoobsurat', 'Khyal', 'Jindagi', 'Tareef', 'Mausam', 'Yaad', 'Shubh prabhat', 'Shubh ratri', 'Shikva', 'Hindi urdu gazzal', 'Hindi', 'Other'],
            Photography: ['Landscape', 'Wildlife', 'Aerial', 'Sports/Action', 'Portrait', 'Architectural', 'Wedding/Event', 'Fashion', 'Macro', 'Baby/Family', 'Abstract', 'Beauty', 'Bird', 'Black And White', 'Bodyscape', 'Candid', 'Conceptual', 'Firework', 'Food', 'Forced perspective', 'HDR', 'High speed', 'Infrared', 'Lomo', 'Long exposure', 'Micro', 'Mobile', 'Modeling', 'Nature', 'Night', 'Nude', 'Panoramic', 'Past and present', 'Rain', 'Rainbow', 'Real estate', 'Relection', 'Satellite', 'Still Life', 'Strom', 'Stock,Street', 'Sunrise/sunset', 'Tilt Shift', 'Time lapse', 'Travel', 'Underwater', 'Urban/Industrial', 'Vehicle', 'Vintage', 'Other'],
            Singing: ['Classical', 'Folk', 'Baul', 'Bhajan', 'Odissi', 'Thumri', 'Dadra', 'Chaiti', 'kajari', 'Sufi', 'Gazal', 'Qawwali', 'Bhangra', 'Blues', 'Filmy', 'Goa', 'Trance', 'Indi-pop', 'Jazz', 'Rock', 'Other'],
            Tiktok: ['Action', 'Comedy', 'Crime', 'Drama', 'Fantasy', 'Horror', 'Music', 'Musical', 'Romance', 'Sci-Fi', 'Social', 'Thriller', 'War', 'Western', 'Other'],


        }
        function menu() {
            
            var value= '{{event.event_category}}';
            if (value.length == 0) document.getElementById("event_sub_category").innerHTML = "<option></option>";
            else {
                var citiesOptions = "";
                for (cityId in ev_sub_category[value]) {
                    citiesOptions += "<option>" + ev_sub_category[value][cityId] + "</option>";
                }
                document.getElementById("event_sub_category").innerHTML = citiesOptions;
            }
        }
        function displaySelected() {
            var country = document.getElementById("event_category").value;
            var city = document.getElementById("event_sub_category").value;
            alert(country + "\n" + city);
        }
        function resetSelection() {
            document.getElementById("event_category").selectedIndex = 0;
            document.getElementById("event_sub_category").selectedIndex = 0;
        }
    </script>


    

    <script type="text/javascript">
        $(document).ready(function () {
          var cat='{{event.event_category}}';
             
                if (cat == "Photography") {
                    $("#photo").show();
                    $("#videofile").hide();
                }
                else {
                    $("#photo").hide();
                    $("#videofile").show();

                }
          
            // $("#photo").show();
        });
    </script>
<!-- <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<script >
   function myFunction(){ 
  swal({ title: "Payment gateway",
 text: "Processing for payment",
  icon: "success",
 type: "success"}).then(okay => {
   if (okay) {
    window.location.href = "#";
    console.log('The Ok Button was clicked.');
  }

});
}

</script> -->

<script type="text/javascript">
    $(document).ready(function(){
  $("#myform").on("submit", function(){
    $("#pageloader").fadeIn();
  });//submit
});//document ready
</script>
{%endblock%}